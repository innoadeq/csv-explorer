<!DOCTYPE html>
<html lang="en">
<head>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9NY4BB8S2P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9NY4BB8S2P');
</script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CSV Dashboard</title>

  <!-- PapaParse -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <link rel="stylesheet" href="css/app.css" />
</head>
<body>

  <header class="app-header">
    <h1>CSV Explorer</h1>
  </header>

  <main class="app-main">
    <section class="upload-section">
      <div class="file-upload-area" id="fileUploadArea">
        <div class="upload-icon">üìÅ</div>
        <div class="upload-text">
          <h3>Drop your CSV file here</h3>
          <p>or <span class="upload-link" id="uploadLink">browse to choose a file</span></p>
        </div>
        <div class="upload-formats">Supports: .csv files</div>
      </div>
      <input type="file" id="csvInput" accept=".csv" style="display: none;" />
    </section>

    <section id="status" class="status"></section>

    <section id="columnSelector" class="column-selector" style="display: none;">
      <div class="column-selector-header">
        <h2>Select Columns to Display</h2>
        <button id="toggleColumns" class="btn-toggle">
          <span id="toggleText">Hide Columns</span>
          <span id="columnCount" class="column-count"></span>
        </button>
      </div>
      
      <!-- Column Search and Quick Actions -->
      <div id="columnControls" class="column-controls">
        <input type="text" id="columnSearch" placeholder="Search columns..." class="column-search">
        <div class="quick-actions">
          <button id="selectAllColumns" class="btn-quick">Select All</button>
          <button id="deselectAllColumns" class="btn-quick">Deselect All</button>
        </div>
      </div>
      
      <div id="columnList" class="column-list"></div>
      <div class="action-buttons">
        <button id="showDashboard" class="btn-primary">Show Dashboard</button>
        <button id="showCharts" class="btn-secondary-action">Show Charts</button>
      </div>
    </section>

    <section id="dashboard" class="dashboard" style="display: none;">
      <h2>Data Preview</h2>
      
      <!-- Filters Section -->
      <div id="filtersSection" class="filters-section">
        <h3>Filters</h3>
        <div id="filtersList" class="filters-list"></div>
        <button id="clearFilters" class="btn-secondary">Clear All Filters</button>
      </div>
      
      <div id="dataTable" class="data-table"></div>
      
      <!-- Bottom Pagination -->
      <div id="paginationBottom" class="pagination-controls">
        <div class="pagination-info">
          <span id="recordsInfo"></span>
        </div>
        <div class="pagination-buttons">
          <button id="firstPageBottom" class="btn-pagination">First</button>
          <button id="prevPageBottom" class="btn-pagination">Previous</button>
          <span id="pageInfoBottom"></span>
          <button id="nextPageBottom" class="btn-pagination">Next</button>
          <button id="lastPageBottom" class="btn-pagination">Last</button>
        </div>
        <div class="rows-per-page">
          <label>Rows per page:</label>
          <select id="rowsPerPageSelect">
            <option value="10">10</option>
            <option value="25" selected>25</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select>
        </div>
      </div>
    </section>

    <section id="charts" class="charts-section" style="display: none;">
      <div class="charts-header">
        <h2>Data Visualization</h2>
        <button id="backToDashboard" class="btn-secondary">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="chart-controls">
        <div class="chart-config">
          <div class="chart-type-selector">
            <label>Chart Type:</label>
            <select id="chartType">
              <option value="bar">üìä Bar Chart</option>
              <option value="pie">ü•ß Pie Chart</option>
            </select>
            <div id="chartTypeHint" class="chart-hint">
              Best for: Comparing values across categories
            </div>
          </div>
          
          <!-- Dynamic configuration based on chart type -->
          <div id="chartConfiguration" class="chart-configuration">
            <!-- Will be populated dynamically -->
          </div>
          
          <button id="generateChart" class="btn-primary">Generate Chart</button>
        </div>
      </div>
      
      <div id="chartContainer" class="chart-container">
        <div class="chart-placeholder">
          <p>Select a numeric column and chart type to generate visualization</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>

